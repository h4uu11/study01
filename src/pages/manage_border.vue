<template>
   <div class="board">
      <div class="today">
         <div class="tx1" style="background-image: url('https://www.kakaocorp.com/page/calendar/dark/ico_date31.gif')">
            오늘의 카카오
         </div>
         <div class="tx2">12월 23일 금요일 소식입니다.</div>
      </div>
      <div class="section-01">
         <div class="con__big">
            <RouterLink to="/manage_border_detail">
               <div class="item__card">
                  <div class="item__text">
                     <div class="item__header">
                        <div class="item__category">보도자료</div>
                        <div class="item__date">2022.12.21</div>
                     </div>
                     <div class="item__title">
                        카카오, ‘제10회 브런치북 출10회 브런치북 출10회 브런치북 출10회 브런치북 출판 프로젝트’ 수상작
                        발표
                     </div>
                     <div class="item__tags">
                        <div class="item__tag">#브런치 #브런치출판프로젝트</div>
                     </div>
                  </div>
                  <div class="item__img">
                     <img
                        src="https://t1.kakaocdn.net/thumb/R1920x0.fwebp.q100/?fname=https%3A%2F%2Ft1.kakaocdn.net%2Fkakaocorp%2Fkakaocorp%2Fadmin%2Fnews%2F0de1e871018500001.png"
                        alt=""
                     />
                  </div>
               </div>
            </RouterLink>
         </div>
         <div class="con__samll grid" ref="masonry">
            <div class="grid__sizer"></div>
            <div class="gutter__sizer"></div>
            <div class="item__card grid__item">
               <div class="item__text">
                  <div class="item__header">
                     <div class="item__category">보도자료</div>
                     <div class="item__date">2022.12.21</div>
                  </div>
                  <div class="item__title">
                     카카오, ‘제10회 브런치북 출10회 브런치북 출10회 브런치북 출10회 브런치북 출판 프로젝트’ 수상작 발표
                  </div>
                  <div class="item__tags">
                     <div class="item__tag">#브런치 #브런치출판프로젝트</div>
                  </div>
               </div>
            </div>
            <div class="item__card grid__item">
               <div class="item__text">
                  <div class="item__header">
                     <div class="item__category">보도자료</div>
                     <div class="item__date">2022.12.21</div>
                  </div>
                  <div class="item__title">카카오, ‘제10회 브런치북 출판 프로젝트’ 수상작 발표</div>
                  <div class="item__tags">
                     <div class="item__tag">#브런치 #브런치출판프로젝트</div>
                  </div>
               </div>
               <div class="item__img">
                  <img
                     src="https://t1.kakaocdn.net/thumb/R1920x0.fwebp.q100/?fname=https%3A%2F%2Ft1.kakaocdn.net%2Fkakaocorp%2Fkakaocorp%2Fadmin%2Fnews%2F088937cb018500001.jpg"
                     alt=""
                  />
               </div>
            </div>
            <div class="item__card grid__item">
               <div class="item__text">
                  <div class="item__header">
                     <div class="item__category">보도자료</div>
                     <div class="item__date">2022.12.21</div>
                  </div>
                  <div class="item__title">카카오, 제10회 수상작 발표</div>
                  <div class="item__tags">
                     <div class="item__tag">#브런치 #브런치출판프로젝트</div>
                  </div>
               </div>
            </div>
            <div class="item__card grid__item">
               <div class="item__text">
                  <div class="item__header">
                     <div class="item__category">보도자료</div>
                     <div class="item__date">2022.12.21</div>
                  </div>
                  <div class="item__title">카카오, 제10회 수상작 발표</div>
                  <div class="item__tags">
                     <div class="item__tag">#브런치 #브런치출판프로젝트</div>
                  </div>
               </div>
            </div>
            <div class="item__card grid__item">
               <div class="item__text">
                  <div class="item__header">
                     <div class="item__category">보도자료</div>
                     <div class="item__date">2022.12.21</div>
                  </div>
                  <div class="item__title">카카오, ‘제10회 브런치북 출판 프로젝트’ 수상작 발표</div>
                  <div class="item__tags">
                     <div class="item__tag">#브런치 #브런치출판프로젝트</div>
                  </div>
               </div>
               <div class="item__img">
                  <img
                     src="https://t1.kakaocdn.net/thumb/R1920x0.fwebp.q100/?fname=https%3A%2F%2Ft1.kakaocdn.net%2Fkakaocorp%2Fkakaocorp%2Fadmin%2Fnews%2F142f4ae7018500001.jpeg"
                     alt=""
                  />
               </div>
            </div>
            <div class="item__card grid__item">
               <div class="item__text">
                  <div class="item__header">
                     <div class="item__category">보도자료</div>
                     <div class="item__date">2022.12.21</div>
                  </div>
                  <div class="item__title">카카오, 제10회 수상작 발표</div>
                  <div class="item__tags">
                     <div class="item__tag">#브런치 #브런치출판프로젝트</div>
                  </div>
               </div>
            </div>
            <div class="item__card grid__item">
               <div class="item__text">
                  <div class="item__header">
                     <div class="item__category">보도자료</div>
                     <div class="item__date">2022.12.21</div>
                  </div>
                  <div class="item__title">카카오, ‘제10회 브런치북 출판 프로젝트’ 수상작 발표</div>
                  <div class="item__tags">
                     <div class="item__tag">#브런치 #브런치출판프로젝트</div>
                  </div>
               </div>
               <div class="item__img">
                  <img
                     src="https://t1.kakaocdn.net/thumb/R1920x0.fwebp.q100/?fname=https%3A%2F%2Ft1.kakaocdn.net%2Fkakaocorp%2Fkakaocorp%2Fadmin%2Fnews%2F13109877018500001.jpg"
                     alt=""
                  />
               </div>
            </div>
            <div class="item__card grid__item">
               <div class="item__text">
                  <div class="item__header">
                     <div class="item__category">보도자료</div>
                     <div class="item__date">2022.12.21</div>
                  </div>
                  <div class="item__title">카카오, ‘제10회 브런치북 출판 프로젝트’ 수상작 발표</div>
                  <div class="item__tags">
                     <div class="item__tag">#브런치 #브런치출판프로젝트</div>
                  </div>
               </div>
               <div class="item__img">
                  <img
                     src="https://t1.kakaocdn.net/thumb/R1920x0.fwebp.q100/?fname=https%3A%2F%2Ft1.kakaocdn.net%2Fkakaocorp%2Fkakaocorp%2Fadmin%2Fnews%2F0e1f828c018500001.png"
                     alt=""
                  />
               </div>
            </div>
         </div>
      </div>
      <div class="bottom__buttons">
         <RouterLink to="manage_border_write" class="btn">글쓰기</RouterLink>
      </div>
   </div>
</template>

<script setup lang="ts">
import {ref, reactive, onMounted} from "vue"
import Masonry from "masonry-layout"

import {getBrd} from "@/services/fetchers.js"

const boardList = reactive({data: undefined})
const fetch = async () => {
   boardList.data = await getBrd()
}
fetch()

const masonry = ref(null)
const msnry = () => {
   new Masonry(masonry.value, {
      // options
      columnWidth: ".grid__sizer",
      gutter: ".gutter__sizer",
      itemSelector: ".grid__item",
      percentPosition: true,
   })
}
onMounted(() => {
   msnry()
})
</script>

<style lang="scss" scoped>
.board {
   .today {
      margin-bottom: 80px;
      font-weight: 700;
      font-size: 40px;
      color: #fff;
      .tx1 {
         padding-left: 85px;
         background-position: 0 center;
         background-repeat: no-repeat;
         background-size: 70px;
         font-weight: inherit;
      }
      .tx2 {
         font-weight: inherit;
      }
   }
}
.section-01 {
   display: flex;
   gap: 40px;
   .item {
      &__card {
         border-radius: 15px;
         overflow: hidden;
         transition: all 0.2s ease-in-out 0s;
         &:hover {
            transform: translateY(-5px);
         }
      }
      &__text {
         padding: 20px;
         background-color: #222;
      }
      &__header {
         display: flex;
         align-items: center;
         margin-bottom: 10px;
      }
      &__date {
         color: #999;
         font-size: 12px;
      }
      &__category {
         margin-right: 10px;
         padding: 5px 10px;
         background-color: #444;
         color: #fff;
         font-size: 13px;
         border-radius: 15px;
      }
      &__tags {
         margin-top: 20px;
         color: #777;
      }
      &__title {
         display: -webkit-box;
         color: #fff;
         font-size: 22px;
         font-weight: 700;
         overflow: hidden;
         -webkit-box-orient: vertical;
         -webkit-line-clamp: 2;
      }
      &__img {
         position: relative;
         padding-top: 70%;
         img {
            position: absolute;
            inset: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
         }
      }
   }
   .con {
      &__big {
         width: 50%;
         .item {
            &__card {
               position: sticky;
               top: 40px;
            }
            &__title {
               font-size: 30px;
            }
         }
      }
      &__samll {
         width: 50%;
         .grid {
            &__sizer,
            &__item {
               width: calc(50% - 20px);
            }
            &__item {
               margin-bottom: 40px;
            }
         }
         .gutter__sizer {
            width: 40px;
         }
      }
   }
}
</style>
